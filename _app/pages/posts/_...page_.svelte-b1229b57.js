import{S as le,i as oe,s as ne,e as w,v as S,j as A,c as P,a as x,w as L,l as B,d as g,b as D,f as I,x as q,F as k,p as m,n as $,A as F,M as re,o as U,Q as ae,t as T,g as W,m as C,D as N,E as X,G as Y,H as Z,I as ee}from"../../chunks/index-65b6e070.js";import{P as ie,B as te,A as ce}from"../../chunks/ArrowLeftIcon-9df81cff.js";import{n as Q}from"../../chunks/info-384129ab.js";const fe=n=>({}),R=n=>({slot:"icon-start"}),ue=n=>({}),z=n=>({slot:"icon-end"});function J(n,t,s){const e=n.slice();return e[6]=t[s],e}function K(n){let t,s,e,l;return s=new ie({props:{post:n[6]}}),{c(){t=w("div"),S(s.$$.fragment),e=A(),this.h()},l(o){t=P(o,"DIV",{class:!0});var a=x(t);L(s.$$.fragment,a),e=B(a),a.forEach(g),this.h()},h(){D(t,"class","py-8 first:pt-0")},m(o,a){I(o,t,a),q(s,t,null),k(t,e),l=!0},p(o,a){const _={};a&1&&(_.post=o[6]),s.$set(_)},i(o){l||(m(s.$$.fragment,o),l=!0)},o(o){$(s.$$.fragment,o),l=!1},d(o){o&&g(t),F(s)}}}function _e(n){let t;return{c(){t=w("div")},l(s){t=P(s,"DIV",{}),x(t).forEach(g)},m(s,e){I(s,t,e)},p:N,i:N,o:N,d(s){s&&g(t)}}}function pe(n){let t,s;return t=new te({props:{raised:!1,href:`/posts/page/${n[1]-1}`,$$slots:{"icon-end":[he],"icon-start":[ge],default:[de]},$$scope:{ctx:n}}}),{c(){S(t.$$.fragment)},l(e){L(t.$$.fragment,e)},m(e,l){q(t,e,l),s=!0},p(e,l){const o={};l&2&&(o.href=`/posts/page/${e[1]-1}`),l&32&&(o.$$scope={dirty:l,ctx:e}),t.$set(o)},i(e){s||(m(t.$$.fragment,e),s=!0)},o(e){$(t.$$.fragment,e),s=!1},d(e){F(t,e)}}}function de(n){let t;return{c(){t=T("Previous")},l(s){t=W(s,"Previous")},m(s,e){I(s,t,e)},d(s){s&&g(t)}}}function me(n){let t,s;return t=new ce({props:{class:"h-5 w-5"}}),{c(){S(t.$$.fragment)},l(e){L(t.$$.fragment,e)},m(e,l){q(t,e,l),s=!0},p:N,i(e){s||(m(t.$$.fragment,e),s=!0)},o(e){$(t.$$.fragment,e),s=!1},d(e){F(t,e)}}}function ge(n){let t;const s=n[4].default,e=X(s,n,n[5],R),l=e||me();return{c(){l&&l.c()},l(o){l&&l.l(o)},m(o,a){l&&l.m(o,a),t=!0},p(o,a){e&&e.p&&(!t||a&32)&&Y(e,s,o,o[5],t?ee(s,o[5],a,fe):Z(o[5]),R)},i(o){t||(m(l,o),t=!0)},o(o){$(l,o),t=!1},d(o){l&&l.d(o)}}}function he(n){let t;const s=n[4].default,e=X(s,n,n[5],z);return{c(){e&&e.c()},l(l){e&&e.l(l)},m(l,o){e&&e.m(l,o),t=!0},p(l,o){e&&e.p&&(!t||o&32)&&Y(e,s,l,l[5],t?ee(s,l[5],o,ue):Z(l[5]),z)},i(l){t||(m(e,l),t=!0)},o(l){$(e,l),t=!1},d(l){e&&e.d(l)}}}function O(n){let t,s;return t=new te({props:{raised:!1,href:`/posts/page/${n[1]+1}`,$$slots:{default:[$e]},$$scope:{ctx:n}}}),{c(){S(t.$$.fragment)},l(e){L(t.$$.fragment,e)},m(e,l){q(t,e,l),s=!0},p(e,l){const o={};l&2&&(o.href=`/posts/page/${e[1]+1}`),l&32&&(o.$$scope={dirty:l,ctx:e}),t.$set(o)},i(e){s||(m(t.$$.fragment,e),s=!0)},o(e){$(t.$$.fragment,e),s=!1},d(e){F(t,e)}}}function $e(n){let t;return{c(){t=T("Next")},l(s){t=W(s,"Next")},m(s,e){I(s,t,e)},d(s){s&&g(t)}}}function ve(n){let t,s,e,l,o,a,_,d,c,j,y;document.title=t=Q+" | Posts";let b=n[0],i=[];for(let r=0;r<b.length;r+=1)i[r]=K(J(n,b,r));const se=r=>$(i[r],1,1,()=>{i[r]=null}),G=[pe,_e],v=[];function H(r,u){return r[3]?1:0}d=H(n),c=v[d]=G[d](n);let f=n[2]&&O(n);return{c(){s=A(),e=w("div"),l=w("div"),o=w("main");for(let r=0;r<i.length;r+=1)i[r].c();a=A(),_=w("div"),c.c(),j=A(),f&&f.c(),this.h()},l(r){re('[data-svelte="svelte-1j9di4b"]',document.head).forEach(g),s=B(r),e=P(r,"DIV",{class:!0});var h=x(e);l=P(h,"DIV",{class:!0});var p=x(l);o=P(p,"MAIN",{class:!0});var E=x(o);for(let M=0;M<i.length;M+=1)i[M].l(E);E.forEach(g),p.forEach(g),a=B(h),_=P(h,"DIV",{class:!0});var V=x(_);c.l(V),j=B(V),f&&f.l(V),V.forEach(g),h.forEach(g),this.h()},h(){D(o,"class","prose prose-slate prose-sm sm:prose sm:prose-slate sm:prose-lg sm:max-w-none dark:prose-invert flex flex-col w-full max-w-2xl flex-grow py-4 px-4"),D(l,"class","mx-auto flex-grow divide-y divide-slate-300 dark:divide-slate-700 max-w-2xl"),D(_,"class","flex visible items-center justify-between pt-8 opacity-70"),D(e,"class","flex flex-col flex-grow")},m(r,u){I(r,s,u),I(r,e,u),k(e,l),k(l,o);for(let h=0;h<i.length;h+=1)i[h].m(o,null);k(e,a),k(e,_),v[d].m(_,null),k(_,j),f&&f.m(_,null),y=!0},p(r,[u]){if((!y||u&0)&&t!==(t=Q+" | Posts")&&(document.title=t),u&1){b=r[0];let p;for(p=0;p<b.length;p+=1){const E=J(r,b,p);i[p]?(i[p].p(E,u),m(i[p],1)):(i[p]=K(E),i[p].c(),m(i[p],1),i[p].m(o,null))}for(C(),p=b.length;p<i.length;p+=1)se(p);U()}let h=d;d=H(r),d===h?v[d].p(r,u):(C(),$(v[h],1,1,()=>{v[h]=null}),U(),c=v[d],c?c.p(r,u):(c=v[d]=G[d](r),c.c()),m(c,1),c.m(_,j)),r[2]?f?(f.p(r,u),u&4&&m(f,1)):(f=O(r),f.c(),m(f,1),f.m(_,null)):f&&(C(),$(f,1,1,()=>{f=null}),U())},i(r){if(!y){for(let u=0;u<b.length;u+=1)m(i[u]);m(c),m(f),y=!0}},o(r){i=i.filter(Boolean);for(let u=0;u<i.length;u+=1)$(i[u]);$(c),$(f),y=!1},d(r){r&&g(s),r&&g(e),ae(i,r),v[d].d(),f&&f.d()}}}const xe=!0,Ie=async({fetch:n,params:t})=>{let s=1,e=10;if(t.page)try{s=parseInt(t.page.split("page/").pop())}catch(a){console.error(a)}const l=new URLSearchParams;l.set("page",s),l.set("limit",e);const o=await n(`/posts.json?${l.toString()}`).then(a=>a.json());return o.length==0&&s>1?{redirect:"/posts",status:302}:{props:{posts:o,page:s,limit:e}}};function be(n,t,s){let e,l,{$$slots:o={},$$scope:a}=t,{posts:_}=t,{page:d}=t;return n.$$set=c=>{"posts"in c&&s(0,_=c.posts),"page"in c&&s(1,d=c.page),"$$scope"in c&&s(5,a=c.$$scope)},n.$$.update=()=>{var c;n.$$.dirty&2&&s(3,e=d===1),n.$$.dirty&1&&s(2,l=(c=_[_.length-1])==null?void 0:c.previous)},[_,d,l,e,o,a]}class ye extends le{constructor(t){super(),oe(this,t,be,ve,ne,{posts:0,page:1})}}export{ye as default,Ie as load,xe as prerender};
